@using MatBlazor;
@inherits Base.Draggable<Weaver.Data.Models.TextArea>;

<MatTextField Value="@Component.MappedValue"
              Label="@Component.Label"
              FullWidth="@true"
              InputStyle="@style"
              TextArea="true"
              @oninput="OnValueChanged"
              />

@code {
    private Task OnValueChanged(ChangeEventArgs e)
    {
        Component.MappedValue = (string)e.Value;
        return ComponentChanged.InvokeAsync(Component);
    }

    private string style
    {
        get => $"{(Component.FullWidth ? "" : $"width:{Component.Width}px;")}{(Component.FullHeight ? "height:75vh;" : $"height:{Component.Height}px;")}";
    }
}
